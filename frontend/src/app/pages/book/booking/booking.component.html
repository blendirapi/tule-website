<app-header></app-header>

<main
  class="min-h-[70vh] flex flex-col items-center py-10 px-4 bg-black"
>
  <h1 class="text-white text-3xl font-semibold">Κλείσε το ραντεβού σου</h1>

  <p class="text-center text-sm text-gray-300 max-w-sm mb-10 mt-3">
    Τα ραντεβού για tattoo και piercing κλείνονται αποκλειστικά μέσω Instagram ή
    τηλεφωνικά.
  </p>

  <div
    class="bg-white rounded-2xl p-4 md:p-6 w-full shadow-lg text-center space-y-6 text-black max-w-max min-w-[330px] sm:min-w-[390px] mx-auto"
  >
    <app-book-artist
      *ngIf="!selectedArtist"
      (artistSelected)="onArtistSelected($event)"
      (artistSelectedName)="onArtistSelectedName($event)">
    </app-book-artist>

    <app-book-type
      *ngIf="selectedArtist && !selectedService"
      (optionSelected)="onServiceSelected($event)"
      (optionSelectedName)="onServiceSelectedName($event)"
      (price)="onServicePrice($event)"
      (hasBath)="onServiceHasBath($event)"
    >
    </app-book-type>

    <app-book-calendar
      *ngIf="selectedArtist && selectedService && !selectedDate"
      [selectedArtist]="selectedArtist"
      (dateSelected)="onDateSelected($event)"
    >
    </app-book-calendar>

    <app-book-time
      *ngIf="selectedArtist && selectedService && selectedDate && !selectedTime"
      [selectedArtist]="selectedArtist"
      [selectedDate]="selectedDate"
      (timeSelected)="onTimeSelected($event)"
    >
    </app-book-time>

    <app-book-data
      *ngIf="selectedArtist && selectedService && selectedDate && selectedTime && !bookingComplete"
      [selectedArtist]="selectedArtist"
      [selectedArtistName]="selectedArtistName"
      [selectedService]="selectedService"
      [selectedServiceName]="selectedServiceName"
      [selectedDate]="selectedDate"
      [selectedTime]="selectedTime"
      [price]="price"
      [hasBath]="bath ?? ''"
      (formSubmitted)="onFormSubmitted($event)">
    </app-book-data>
  
    <app-book-final *ngIf="bookingComplete"> </app-book-final>
  </div>

  <button *ngIf="selectedArtist && !bookingComplete"
    class="mt-4 flex items-center gap-1 text-sm font-medium bg-white text-black rounded-xl border-2 border-white px-6 py-1 cursor-pointer lg:hover:bg-black lg:hover:text-white transition-all duration-200 group"
    (click)="goBack()"
    >
    <span
      class="text-lg mb-1 group-hover:translate-x-[-5px] transition-all duration-200"
      >←</span
    >
    Πίσω
  </button>
</main>

<app-footer></app-footer>
